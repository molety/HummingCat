Humming Cat あんなこといいなできたらいいなリスト(2003/03/23版)

======== ======== ======== ======== ======== ======== ======== ======== 

	大まかな目標

[hcatIL]
	(1)サウンドドライバとしての基本機能を揃え、「ちゃんと」動くこと。
	(2)軽いこと。あまり負荷が重くなりそうな機能は付けない。
	(3)ポルタメント/スラーなど、個人的にこだわりたい機能の
	　まっとうな実装。
	(4)ネタ機能の実験。10年ほど前に思いついたネタ。ただし
	　あまりうまくなかった場合は関連機能の削除もありうる。
[hcmml(j)]
	本来の構想としては「MMLコンパイラ&リソースパッケージャ」。
	外部の波形エディタなどで作ったデータをMMLデータとマージして
	1つのリソースにパッケージングできることが目標。
[hcplay]
	それなりに見栄えのするものにしたいがどこまでできるかは不明。
	hcatILのネタ機能を最初にドライブするのはこいつ。(他のプログラム
	からは使えるかどうか分かりません)
[libbcat(bchcat)]
	ドライバ本体(hcatIL)の謎な仕様をできるだけ隠蔽して、使いやすい
	インターフェースを提供。このライブラリの範囲を超える使い方を
	したい場合は頑張ってドライバを直接叩いてもらう。
[hcedit]
	実機上でのMML編集環境を作ってみる。
[マニュアル]
	基本操作、曲データの作成、他のプログラムへの組み込み、
	ドライバの改造などに困らないレベルの説明を目指す。
	-->極端な話、この辺がちゃんとしてれば中途で放流することもできるし(^^;;

※これらが実現できるのが先か、WonderSwanが物理的に無くなってしまうのが先か(^^;;;

======== ======== ======== ======== ======== ======== ======== ======== 

	具体的な項目

※だいたい優先度の高い順に並んでいますが、この順番でやるとは限りません。
　また、ここに書いてあるからといって必ずやるとも限りません。

[hcatIL]	◎バグ修正
	・波形/エンベロープをMML中で定義して使った後、ビルトインのものに
	　戻す手段がない。

[マニュアル]	◎内部データ形式の説明

[libbcat(bchcat)]◎エラーコード統一
[libbcat(bchcat)]◎効果音用API

[hcatIL]	◎小節/拍カウンタ
[hcatIL]	◎_hcat_get_workarea拡張
	・各スロット/トラックワークエリアのアドレスを得られるように

[hcmml(j)]	◎エラーチェック強化
	・ループネストレベル
	・空ループ
	・音程リミット
	・波形/エンベロープ番号重複チェック

[hcmml(j)]	◎リソースパック読み込み/概要表示

[hcatIL]	◎ビルトイン波形/エンベロープの拡充
	・ちょっとしたツールを作っておかないとすごい面倒
	　(現状、手作業でアセンブラソースに直してるんで…(^^;)

[hcatIL]	◎ポルタメント対応
[hcmml(j)]	◎ポルタメント対応
[hcatIL]	◎スラー対応
[hcmml(j)]	◎タイ/スラー対応

[マニュアル]	◎API解説(ドライバ本体/bchcat)

[hcatIL]	◎コンダクト・シーケンス(CS)の実装
[hcplay]	◎ネタ機能

[hcatIL]	◎初期化ルーチン整理
[hcatIL]	◎二重割り込み防止機構
[hcatIL]	◎フックチェーン処理(必要性不明)
[hcatIL]	◎命令レベル最適化

[マニュアル]	◎アーキテクチャの説明
	・micro functionアーキテクチャ
	・priority/enableアーキテクチャ
	・コンダクト・シーケンス
[マニュアル]	◎背景の説明、チュートリアル

			(この辺で正式版(v1.00)？)

[hcedit]	◎とりあえず作る
	・hcmmlのコンパイラコアを内蔵(ソース共用)
	・{ボタン押下中 | MMLで指定した位置まで}早送り/スロー再生
[hcmml(j)]	◎マクロ機能
[hcplay]	◎インターフェース全面作り直し
	・現状のhcplayはhcattestに改名-->現状のhcattestは破棄
[hcatIL]	◎_hcat_set_driver_mode追加機能
	候補
	・エンベロープ動作モード(キーオフ時/スラー中)
	・エンベロープ間隔
	・CS間隔
	・内蔵スピーカ/ヘッドホン出力enable/disable
	・二重割り込み時動作モード
[hcatIL]	◎エンベロープ中での波形/ノイズモード切り替え
	・エンベロープデータのエンコーディングが非常にキツキツなので、
	　入れる余裕があるかどうか…
	・波形切り替え時にプチノイズが乗ったりしないか?
[hcmml(j)]	◎連符
[hcatIL]	◎高速版
	・エラー処理省略
	・パンポット/ディチューン量など飽和処理省略
	・小節/拍カウンタ省略

======== ======== ======== ======== ======== ======== ======== ======== 

	参考にしたサウンドドライバ

	・MGSDRV(MSX)
	　MSX-FAN 1992年9月号に収録されたMGSDRVで「ソーサリアン
	　Scenario1-1消えた王様の杖・ダンジョン」の曲データを聴いたときの
	　衝撃は今でも覚えてます。
	・MXDRV、Z-MUSIC(X68k)
	　MMLコマンドの一部を参考にしました。
	・その他MSX/X68kのサウンドドライバのマニュアルは
	　いろいろ読みました。
	・逆に、その他の機種のサウンドドライバは全然知りません。
!!!注意!!!
	上に挙げたすごいサウンドドライバたちのような完成度を期待しないで
	ください。プレッシャーで作者が死にます。
